61f6ce6f1cfd239a7d5508ef33d6a21a
import { jest } from '@jest/globals';

// Mock Express request object
export const mockRequest = {
  method: 'POST',
  url: '/webhook/youtube',
  headers: {
    'content-type': 'application/atom+xml',
    'x-hub-signature': 'sha1=mock-signature',
    'user-agent': 'FeedFetcher-Google'
  },
  body: '',
  rawBody: Buffer.from(''),
  ip: '127.0.0.1',
  get: jest.fn(header => mockRequest.headers[header.toLowerCase()]),
  header: jest.fn(header => mockRequest.headers[header.toLowerCase()])
};

// Mock Express response object
export const mockResponse = {
  status: jest.fn().mockReturnThis(),
  json: jest.fn().mockReturnThis(),
  send: jest.fn().mockReturnThis(),
  end: jest.fn().mockReturnThis(),
  set: jest.fn().mockReturnThis(),
  cookie: jest.fn().mockReturnThis(),
  clearCookie: jest.fn().mockReturnThis(),
  redirect: jest.fn().mockReturnThis(),
  locals: {}
};

// Mock Express next function
export const mockNext = jest.fn();

// Mock Express app
export const mockApp = {
  use: jest.fn(),
  get: jest.fn(),
  post: jest.fn(),
  put: jest.fn(),
  delete: jest.fn(),
  listen: jest.fn().mockImplementation((port, callback) => {
    if (callback) {
      callback();
    }
    return mockServer;
  }),
  set: jest.fn(),
  locals: {}
};

// Mock Express server
export const mockServer = {
  close: jest.fn().mockImplementation(callback => {
    if (callback) {
      callback();
    }
  }),
  address: jest.fn().mockReturnValue({
    address: '::',
    family: 'IPv6',
    port: 3000
  }),
  listening: true
};

// Mock rate limiter
export const mockRateLimit = jest.fn().mockImplementation(options => {
  return jest.fn((req, res, next) => {
    // Simulate rate limiting logic
    const rateLimitInfo = {
      limit: options.max || 100,
      remaining: options.max - 1 || 99,
      reset: Date.now() + (options.windowMs || 900000)
    };
    res.set({
      'X-RateLimit-Limit': rateLimitInfo.limit,
      'X-RateLimit-Remaining': rateLimitInfo.remaining,
      'X-RateLimit-Reset': new Date(rateLimitInfo.reset).toISOString()
    });
    next();
  });
});

// Mock body parser middleware
export const mockBodyParser = {
  raw: jest.fn().mockReturnValue((req, res, next) => {
    req.rawBody = Buffer.from(req.body || '');
    next();
  }),
  json: jest.fn().mockReturnValue((req, res, next) => {
    try {
      req.body = typeof req.body === 'string' ? JSON.parse(req.body) : req.body;
    } catch (e) {
      req.body = {};
    }
    next();
  }),
  urlencoded: jest.fn().mockReturnValue((req, res, next) => {
    next();
  })
};

// Helper functions for creating test data
export const createMockRequest = (overrides = {}) => ({
  ...mockRequest,
  ...overrides,
  headers: {
    ...mockRequest.headers,
    ...(overrides.headers || {})
  },
  get: jest.fn(header => {
    const headers = {
      ...mockRequest.headers,
      ...(overrides.headers || {})
    };
    return headers[header.toLowerCase()];
  })
});
export const createMockResponse = (overrides = {}) => ({
  ...mockResponse,
  status: jest.fn().mockReturnThis(),
  json: jest.fn().mockReturnThis(),
  send: jest.fn().mockReturnThis(),
  end: jest.fn().mockReturnThis(),
  set: jest.fn().mockReturnThis(),
  ...overrides
});
export const createMockApp = (overrides = {}) => ({
  ...mockApp,
  use: jest.fn(),
  get: jest.fn(),
  post: jest.fn(),
  listen: jest.fn().mockImplementation((port, callback) => {
    if (callback) {
      callback();
    }
    return {
      ...mockServer,
      ...(overrides.serverOverrides || {})
    };
  }),
  ...overrides
});

// Mock middleware for testing
export const mockMiddleware = {
  cors: jest.fn().mockReturnValue((req, res, next) => next()),
  helmet: jest.fn().mockReturnValue((req, res, next) => next()),
  compression: jest.fn().mockReturnValue((req, res, next) => next())
};

// Mock webhook signatures for testing
export const mockWebhookSignatures = {
  valid: 'sha1=da39a3ee5e6b4b0d3255bfef95601890afd80709',
  invalid: 'sha1=invalid-signature-hash',
  malformed: 'invalid-format-signature'
};

// Mock health check responses
export const mockHealthResponse = {
  status: 'healthy',
  timestamp: new Date().toISOString(),
  uptime: process.uptime(),
  memory: process.memoryUsage(),
  components: {
    discord: 'connected',
    youtube: 'active',
    xScraper: 'running',
    database: 'n/a'
  }
};
export const mockDetailedHealthResponse = {
  ...mockHealthResponse,
  details: {
    discord: {
      connected: true,
      guilds: 1,
      channels: 2,
      latency: 50
    },
    youtube: {
      subscriptions: 1,
      lastNotification: new Date().toISOString(),
      apiQuota: {
        used: 100,
        limit: 10000
      }
    },
    xScraper: {
      lastScrape: new Date().toISOString(),
      cookieValid: true,
      errorRate: 0.01
    }
  }
};

// Helper function to create a mock rate limiter implementation
export const createMockRateLimit = (options = {}) => {
  const store = new Map();
  return (req, res, next) => {
    const key = options.keyGenerator ? options.keyGenerator(req) : req.ip || 'unknown';
    const now = Date.now();
    const windowStart = now - (options.windowMs || 900000);

    // Handle skip function
    if (options.skip && options.skip(req)) {
      return next();
    }

    // Clean expired entries
    for (const [k, data] of store.entries()) {
      if (data.resetTime <= now) {
        store.delete(k);
      }
    }
    const existing = store.get(key);
    if (!existing) {
      store.set(key, {
        count: 1,
        resetTime: now + (options.windowMs || 900000)
      });
      res.set({
        'X-RateLimit-Limit': options.max || 100,
        'X-RateLimit-Remaining': (options.max || 100) - 1,
        'X-RateLimit-Reset': new Date(now + (options.windowMs || 900000)).toISOString()
      });
      return next();
    }
    if (existing.count >= (options.max || 100)) {
      return res.status(429).json(options.message || {
        error: 'Too Many Requests'
      });
    }
    existing.count++;
    res.set({
      'X-RateLimit-Limit': options.max || 100,
      'X-RateLimit-Remaining': (options.max || 100) - existing.count,
      'X-RateLimit-Reset': new Date(existing.resetTime).toISOString()
    });
    next();
  };
};

// Helper function to create command-specific rate limiter
export const createCommandRateLimit = (options = {}) => {
  return createMockRateLimit({
    ...options,
    message: {
      error: 'Command rate limit exceeded. Please wait before trying again.'
    }
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqZXN0IiwibW9ja1JlcXVlc3QiLCJtZXRob2QiLCJ1cmwiLCJoZWFkZXJzIiwiYm9keSIsInJhd0JvZHkiLCJCdWZmZXIiLCJmcm9tIiwiaXAiLCJnZXQiLCJmbiIsImhlYWRlciIsInRvTG93ZXJDYXNlIiwibW9ja1Jlc3BvbnNlIiwic3RhdHVzIiwibW9ja1JldHVyblRoaXMiLCJqc29uIiwic2VuZCIsImVuZCIsInNldCIsImNvb2tpZSIsImNsZWFyQ29va2llIiwicmVkaXJlY3QiLCJsb2NhbHMiLCJtb2NrTmV4dCIsIm1vY2tBcHAiLCJ1c2UiLCJwb3N0IiwicHV0IiwiZGVsZXRlIiwibGlzdGVuIiwibW9ja0ltcGxlbWVudGF0aW9uIiwicG9ydCIsImNhbGxiYWNrIiwibW9ja1NlcnZlciIsImNsb3NlIiwiYWRkcmVzcyIsIm1vY2tSZXR1cm5WYWx1ZSIsImZhbWlseSIsImxpc3RlbmluZyIsIm1vY2tSYXRlTGltaXQiLCJvcHRpb25zIiwicmVxIiwicmVzIiwibmV4dCIsInJhdGVMaW1pdEluZm8iLCJsaW1pdCIsIm1heCIsInJlbWFpbmluZyIsInJlc2V0IiwiRGF0ZSIsIm5vdyIsIndpbmRvd01zIiwidG9JU09TdHJpbmciLCJtb2NrQm9keVBhcnNlciIsInJhdyIsIkpTT04iLCJwYXJzZSIsImUiLCJ1cmxlbmNvZGVkIiwiY3JlYXRlTW9ja1JlcXVlc3QiLCJvdmVycmlkZXMiLCJjcmVhdGVNb2NrUmVzcG9uc2UiLCJjcmVhdGVNb2NrQXBwIiwic2VydmVyT3ZlcnJpZGVzIiwibW9ja01pZGRsZXdhcmUiLCJjb3JzIiwiaGVsbWV0IiwiY29tcHJlc3Npb24iLCJtb2NrV2ViaG9va1NpZ25hdHVyZXMiLCJ2YWxpZCIsImludmFsaWQiLCJtYWxmb3JtZWQiLCJtb2NrSGVhbHRoUmVzcG9uc2UiLCJ0aW1lc3RhbXAiLCJ1cHRpbWUiLCJwcm9jZXNzIiwibWVtb3J5IiwibWVtb3J5VXNhZ2UiLCJjb21wb25lbnRzIiwiZGlzY29yZCIsInlvdXR1YmUiLCJ4U2NyYXBlciIsImRhdGFiYXNlIiwibW9ja0RldGFpbGVkSGVhbHRoUmVzcG9uc2UiLCJkZXRhaWxzIiwiY29ubmVjdGVkIiwiZ3VpbGRzIiwiY2hhbm5lbHMiLCJsYXRlbmN5Iiwic3Vic2NyaXB0aW9ucyIsImxhc3ROb3RpZmljYXRpb24iLCJhcGlRdW90YSIsInVzZWQiLCJsYXN0U2NyYXBlIiwiY29va2llVmFsaWQiLCJlcnJvclJhdGUiLCJjcmVhdGVNb2NrUmF0ZUxpbWl0Iiwic3RvcmUiLCJNYXAiLCJrZXkiLCJrZXlHZW5lcmF0b3IiLCJ3aW5kb3dTdGFydCIsInNraXAiLCJrIiwiZGF0YSIsImVudHJpZXMiLCJyZXNldFRpbWUiLCJleGlzdGluZyIsImNvdW50IiwibWVzc2FnZSIsImVycm9yIiwiY3JlYXRlQ29tbWFuZFJhdGVMaW1pdCJdLCJzb3VyY2VzIjpbImV4cHJlc3MubW9jay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqZXN0IH0gZnJvbSAnQGplc3QvZ2xvYmFscyc7XG5cbi8vIE1vY2sgRXhwcmVzcyByZXF1ZXN0IG9iamVjdFxuZXhwb3J0IGNvbnN0IG1vY2tSZXF1ZXN0ID0ge1xuICBtZXRob2Q6ICdQT1NUJyxcbiAgdXJsOiAnL3dlYmhvb2sveW91dHViZScsXG4gIGhlYWRlcnM6IHtcbiAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2F0b20reG1sJyxcbiAgICAneC1odWItc2lnbmF0dXJlJzogJ3NoYTE9bW9jay1zaWduYXR1cmUnLFxuICAgICd1c2VyLWFnZW50JzogJ0ZlZWRGZXRjaGVyLUdvb2dsZScsXG4gIH0sXG4gIGJvZHk6ICcnLFxuICByYXdCb2R5OiBCdWZmZXIuZnJvbSgnJyksXG4gIGlwOiAnMTI3LjAuMC4xJyxcbiAgZ2V0OiBqZXN0LmZuKChoZWFkZXIpID0+IG1vY2tSZXF1ZXN0LmhlYWRlcnNbaGVhZGVyLnRvTG93ZXJDYXNlKCldKSxcbiAgaGVhZGVyOiBqZXN0LmZuKChoZWFkZXIpID0+IG1vY2tSZXF1ZXN0LmhlYWRlcnNbaGVhZGVyLnRvTG93ZXJDYXNlKCldKSxcbn07XG5cbi8vIE1vY2sgRXhwcmVzcyByZXNwb25zZSBvYmplY3RcbmV4cG9ydCBjb25zdCBtb2NrUmVzcG9uc2UgPSB7XG4gIHN0YXR1czogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gIGpzb246IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICBzZW5kOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgZW5kOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgc2V0OiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgY29va2llOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgY2xlYXJDb29raWU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICByZWRpcmVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gIGxvY2Fsczoge30sXG59O1xuXG4vLyBNb2NrIEV4cHJlc3MgbmV4dCBmdW5jdGlvblxuZXhwb3J0IGNvbnN0IG1vY2tOZXh0ID0gamVzdC5mbigpO1xuXG4vLyBNb2NrIEV4cHJlc3MgYXBwXG5leHBvcnQgY29uc3QgbW9ja0FwcCA9IHtcbiAgdXNlOiBqZXN0LmZuKCksXG4gIGdldDogamVzdC5mbigpLFxuICBwb3N0OiBqZXN0LmZuKCksXG4gIHB1dDogamVzdC5mbigpLFxuICBkZWxldGU6IGplc3QuZm4oKSxcbiAgbGlzdGVuOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKChwb3J0LCBjYWxsYmFjaykgPT4ge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcmV0dXJuIG1vY2tTZXJ2ZXI7XG4gIH0pLFxuICBzZXQ6IGplc3QuZm4oKSxcbiAgbG9jYWxzOiB7fSxcbn07XG5cbi8vIE1vY2sgRXhwcmVzcyBzZXJ2ZXJcbmV4cG9ydCBjb25zdCBtb2NrU2VydmVyID0ge1xuICBjbG9zZTogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoY2FsbGJhY2spID0+IHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9KSxcbiAgYWRkcmVzczogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgYWRkcmVzczogJzo6JyxcbiAgICBmYW1pbHk6ICdJUHY2JyxcbiAgICBwb3J0OiAzMDAwLFxuICB9KSxcbiAgbGlzdGVuaW5nOiB0cnVlLFxufTtcblxuLy8gTW9jayByYXRlIGxpbWl0ZXJcbmV4cG9ydCBjb25zdCBtb2NrUmF0ZUxpbWl0ID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigob3B0aW9ucykgPT4ge1xuICByZXR1cm4gamVzdC5mbigocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAvLyBTaW11bGF0ZSByYXRlIGxpbWl0aW5nIGxvZ2ljXG4gICAgY29uc3QgcmF0ZUxpbWl0SW5mbyA9IHtcbiAgICAgIGxpbWl0OiBvcHRpb25zLm1heCB8fCAxMDAsXG4gICAgICByZW1haW5pbmc6IG9wdGlvbnMubWF4IC0gMSB8fCA5OSxcbiAgICAgIHJlc2V0OiBEYXRlLm5vdygpICsgKG9wdGlvbnMud2luZG93TXMgfHwgOTAwMDAwKSxcbiAgICB9O1xuXG4gICAgcmVzLnNldCh7XG4gICAgICAnWC1SYXRlTGltaXQtTGltaXQnOiByYXRlTGltaXRJbmZvLmxpbWl0LFxuICAgICAgJ1gtUmF0ZUxpbWl0LVJlbWFpbmluZyc6IHJhdGVMaW1pdEluZm8ucmVtYWluaW5nLFxuICAgICAgJ1gtUmF0ZUxpbWl0LVJlc2V0JzogbmV3IERhdGUocmF0ZUxpbWl0SW5mby5yZXNldCkudG9JU09TdHJpbmcoKSxcbiAgICB9KTtcblxuICAgIG5leHQoKTtcbiAgfSk7XG59KTtcblxuLy8gTW9jayBib2R5IHBhcnNlciBtaWRkbGV3YXJlXG5leHBvcnQgY29uc3QgbW9ja0JvZHlQYXJzZXIgPSB7XG4gIHJhdzogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSgocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICByZXEucmF3Qm9keSA9IEJ1ZmZlci5mcm9tKHJlcS5ib2R5IHx8ICcnKTtcbiAgICBuZXh0KCk7XG4gIH0pLFxuICBqc29uOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXEuYm9keSA9IHR5cGVvZiByZXEuYm9keSA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHJlcS5ib2R5KSA6IHJlcS5ib2R5O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlcS5ib2R5ID0ge307XG4gICAgfVxuICAgIG5leHQoKTtcbiAgfSksXG4gIHVybGVuY29kZWQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgbmV4dCgpO1xuICB9KSxcbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIGNyZWF0aW5nIHRlc3QgZGF0YVxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1vY2tSZXF1ZXN0ID0gKG92ZXJyaWRlcyA9IHt9KSA9PiAoe1xuICAuLi5tb2NrUmVxdWVzdCxcbiAgLi4ub3ZlcnJpZGVzLFxuICBoZWFkZXJzOiB7XG4gICAgLi4ubW9ja1JlcXVlc3QuaGVhZGVycyxcbiAgICAuLi4ob3ZlcnJpZGVzLmhlYWRlcnMgfHwge30pLFxuICB9LFxuICBnZXQ6IGplc3QuZm4oKGhlYWRlcikgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7IC4uLm1vY2tSZXF1ZXN0LmhlYWRlcnMsIC4uLihvdmVycmlkZXMuaGVhZGVycyB8fCB7fSkgfTtcbiAgICByZXR1cm4gaGVhZGVyc1toZWFkZXIudG9Mb3dlckNhc2UoKV07XG4gIH0pLFxufSk7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNb2NrUmVzcG9uc2UgPSAob3ZlcnJpZGVzID0ge30pID0+ICh7XG4gIC4uLm1vY2tSZXNwb25zZSxcbiAgc3RhdHVzOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAganNvbjogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gIHNlbmQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICBlbmQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICBzZXQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAuLi5vdmVycmlkZXMsXG59KTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1vY2tBcHAgPSAob3ZlcnJpZGVzID0ge30pID0+ICh7XG4gIC4uLm1vY2tBcHAsXG4gIHVzZTogamVzdC5mbigpLFxuICBnZXQ6IGplc3QuZm4oKSxcbiAgcG9zdDogamVzdC5mbigpLFxuICBsaXN0ZW46IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKHBvcnQsIGNhbGxiYWNrKSA9PiB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgICByZXR1cm4geyAuLi5tb2NrU2VydmVyLCAuLi4ob3ZlcnJpZGVzLnNlcnZlck92ZXJyaWRlcyB8fCB7fSkgfTtcbiAgfSksXG4gIC4uLm92ZXJyaWRlcyxcbn0pO1xuXG4vLyBNb2NrIG1pZGRsZXdhcmUgZm9yIHRlc3RpbmdcbmV4cG9ydCBjb25zdCBtb2NrTWlkZGxld2FyZSA9IHtcbiAgY29yczogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSgocmVxLCByZXMsIG5leHQpID0+IG5leHQoKSksXG4gIGhlbG1ldDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSgocmVxLCByZXMsIG5leHQpID0+IG5leHQoKSksXG4gIGNvbXByZXNzaW9uOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKChyZXEsIHJlcywgbmV4dCkgPT4gbmV4dCgpKSxcbn07XG5cbi8vIE1vY2sgd2ViaG9vayBzaWduYXR1cmVzIGZvciB0ZXN0aW5nXG5leHBvcnQgY29uc3QgbW9ja1dlYmhvb2tTaWduYXR1cmVzID0ge1xuICB2YWxpZDogJ3NoYTE9ZGEzOWEzZWU1ZTZiNGIwZDMyNTViZmVmOTU2MDE4OTBhZmQ4MDcwOScsXG4gIGludmFsaWQ6ICdzaGExPWludmFsaWQtc2lnbmF0dXJlLWhhc2gnLFxuICBtYWxmb3JtZWQ6ICdpbnZhbGlkLWZvcm1hdC1zaWduYXR1cmUnLFxufTtcblxuLy8gTW9jayBoZWFsdGggY2hlY2sgcmVzcG9uc2VzXG5leHBvcnQgY29uc3QgbW9ja0hlYWx0aFJlc3BvbnNlID0ge1xuICBzdGF0dXM6ICdoZWFsdGh5JyxcbiAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gIHVwdGltZTogcHJvY2Vzcy51cHRpbWUoKSxcbiAgbWVtb3J5OiBwcm9jZXNzLm1lbW9yeVVzYWdlKCksXG4gIGNvbXBvbmVudHM6IHtcbiAgICBkaXNjb3JkOiAnY29ubmVjdGVkJyxcbiAgICB5b3V0dWJlOiAnYWN0aXZlJyxcbiAgICB4U2NyYXBlcjogJ3J1bm5pbmcnLFxuICAgIGRhdGFiYXNlOiAnbi9hJyxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBtb2NrRGV0YWlsZWRIZWFsdGhSZXNwb25zZSA9IHtcbiAgLi4ubW9ja0hlYWx0aFJlc3BvbnNlLFxuICBkZXRhaWxzOiB7XG4gICAgZGlzY29yZDoge1xuICAgICAgY29ubmVjdGVkOiB0cnVlLFxuICAgICAgZ3VpbGRzOiAxLFxuICAgICAgY2hhbm5lbHM6IDIsXG4gICAgICBsYXRlbmN5OiA1MCxcbiAgICB9LFxuICAgIHlvdXR1YmU6IHtcbiAgICAgIHN1YnNjcmlwdGlvbnM6IDEsXG4gICAgICBsYXN0Tm90aWZpY2F0aW9uOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBhcGlRdW90YToge1xuICAgICAgICB1c2VkOiAxMDAsXG4gICAgICAgIGxpbWl0OiAxMDAwMCxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB4U2NyYXBlcjoge1xuICAgICAgbGFzdFNjcmFwZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgY29va2llVmFsaWQ6IHRydWUsXG4gICAgICBlcnJvclJhdGU6IDAuMDEsXG4gICAgfSxcbiAgfSxcbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgYSBtb2NrIHJhdGUgbGltaXRlciBpbXBsZW1lbnRhdGlvblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1vY2tSYXRlTGltaXQgPSAob3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHN0b3JlID0gbmV3IE1hcCgpO1xuXG4gIHJldHVybiAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBrZXkgPSBvcHRpb25zLmtleUdlbmVyYXRvciA/IG9wdGlvbnMua2V5R2VuZXJhdG9yKHJlcSkgOiByZXEuaXAgfHwgJ3Vua25vd24nO1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3Qgd2luZG93U3RhcnQgPSBub3cgLSAob3B0aW9ucy53aW5kb3dNcyB8fCA5MDAwMDApO1xuXG4gICAgLy8gSGFuZGxlIHNraXAgZnVuY3Rpb25cbiAgICBpZiAob3B0aW9ucy5za2lwICYmIG9wdGlvbnMuc2tpcChyZXEpKSB7XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cblxuICAgIC8vIENsZWFuIGV4cGlyZWQgZW50cmllc1xuICAgIGZvciAoY29uc3QgW2ssIGRhdGFdIG9mIHN0b3JlLmVudHJpZXMoKSkge1xuICAgICAgaWYgKGRhdGEucmVzZXRUaW1lIDw9IG5vdykge1xuICAgICAgICBzdG9yZS5kZWxldGUoayk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZXhpc3RpbmcgPSBzdG9yZS5nZXQoa2V5KTtcbiAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICBzdG9yZS5zZXQoa2V5LCB7XG4gICAgICAgIGNvdW50OiAxLFxuICAgICAgICByZXNldFRpbWU6IG5vdyArIChvcHRpb25zLndpbmRvd01zIHx8IDkwMDAwMCksXG4gICAgICB9KTtcblxuICAgICAgcmVzLnNldCh7XG4gICAgICAgICdYLVJhdGVMaW1pdC1MaW1pdCc6IG9wdGlvbnMubWF4IHx8IDEwMCxcbiAgICAgICAgJ1gtUmF0ZUxpbWl0LVJlbWFpbmluZyc6IChvcHRpb25zLm1heCB8fCAxMDApIC0gMSxcbiAgICAgICAgJ1gtUmF0ZUxpbWl0LVJlc2V0JzogbmV3IERhdGUobm93ICsgKG9wdGlvbnMud2luZG93TXMgfHwgOTAwMDAwKSkudG9JU09TdHJpbmcoKSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cblxuICAgIGlmIChleGlzdGluZy5jb3VudCA+PSAob3B0aW9ucy5tYXggfHwgMTAwKSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDI5KS5qc29uKG9wdGlvbnMubWVzc2FnZSB8fCB7IGVycm9yOiAnVG9vIE1hbnkgUmVxdWVzdHMnIH0pO1xuICAgIH1cblxuICAgIGV4aXN0aW5nLmNvdW50Kys7XG5cbiAgICByZXMuc2V0KHtcbiAgICAgICdYLVJhdGVMaW1pdC1MaW1pdCc6IG9wdGlvbnMubWF4IHx8IDEwMCxcbiAgICAgICdYLVJhdGVMaW1pdC1SZW1haW5pbmcnOiAob3B0aW9ucy5tYXggfHwgMTAwKSAtIGV4aXN0aW5nLmNvdW50LFxuICAgICAgJ1gtUmF0ZUxpbWl0LVJlc2V0JzogbmV3IERhdGUoZXhpc3RpbmcucmVzZXRUaW1lKS50b0lTT1N0cmluZygpLFxuICAgIH0pO1xuXG4gICAgbmV4dCgpO1xuICB9O1xufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBjb21tYW5kLXNwZWNpZmljIHJhdGUgbGltaXRlclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbW1hbmRSYXRlTGltaXQgPSAob3B0aW9ucyA9IHt9KSA9PiB7XG4gIHJldHVybiBjcmVhdGVNb2NrUmF0ZUxpbWl0KHtcbiAgICAuLi5vcHRpb25zLFxuICAgIG1lc3NhZ2U6IHsgZXJyb3I6ICdDb21tYW5kIHJhdGUgbGltaXQgZXhjZWVkZWQuIFBsZWFzZSB3YWl0IGJlZm9yZSB0cnlpbmcgYWdhaW4uJyB9LFxuICB9KTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLElBQUksUUFBUSxl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