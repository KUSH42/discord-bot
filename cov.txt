
> discord-content-announcement-bot@0.2.0 test:coverage
> NODE_OPTIONS="--experimental-vm-modules" jest --coverage


âœ˜ node v22.17.1, and jest v30.0.5 are not yet supported in the Community edition of Console Ninja.
We are working hard on it for you https://tinyurl.com/3h9mtwra.

Estimated release dates:
  - Community users: around 16th October, 2025 (subject to team availability)
  - PRO users:       priority access is available now

---------------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File                                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                                                                                                                     
---------------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
All files                                    |    82.9 |    88.09 |   86.38 |    82.9 |                                                                                                                                                                                                                       
 src                                         |   63.47 |    84.87 |   80.89 |   63.47 |                                                                                                                                                                                                                       
  config-validator.js                        |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                       
  discord-utils.js                           |   98.33 |    92.85 |     100 |   98.33 | 68-69                                                                                                                                                                                                                 
  duplicate-detector.js                      |   90.23 |    87.59 |   90.62 |   90.23 | 52-53,74-76,85-86,89-91,134-135,175-176,339-356,362-376,480-481,521-522,535-539,582-583                                                                                                                               
  logger-utils.js                            |   76.74 |    74.13 |      75 |   76.74 | 38-43,49,61,76-77,82-83,94-96,103-107,114-118,126-127,132-133,142-143,147-148,156-157,166-167,182-187,191-201,211-212,226-227,233-234,239-240,286-309,329-330,347-350,356-359,377-385,389-397,408-409,433-434,444-445 
  production-setup.js                        |       0 |        0 |       0 |       0 | 1-576                                                                                                                                                                                                                 
  rate-limiter.js                            |   78.99 |      100 |   57.14 |   78.99 | 68-73,81-92,112-113,119-120,127-128,188-209                                                                                                                                                                           
 src/application                             |   83.95 |    85.81 |    90.9 |   83.95 |                                                                                                                                                                                                                       
  auth-manager.js                            |   92.94 |    86.56 |   91.66 |   92.94 | 63-64,115-121,133-137,139,169-170,299-307,342-343                                                                                                                                                                     
  bot-application.js                         |   82.82 |    73.55 |   85.29 |   82.82 | 214-219,230-235,257-261,265,270,275,291,369-375,379-383,393-396,400-401,440-447,451-457,491-492,497-502,510-513,522-524,539-543,545-546,740-741,860-861,912-921,950-953,1001-1002,1044-1155                           
  monitor-application.js                     |   96.32 |    89.63 |   96.87 |   96.32 | 163-165,463-484,756-758,833-834,866-873,905-906                                                                                                                                                                       
  scraper-application.js                     |   75.39 |    93.48 |   90.69 |   75.39 | 367-368,440-442,512-521,531-547,616-617,767-1068,1146-1148,1467-1469,1492-1493,1532-1541,1564-1569,1729-1788,1795-1824                                                                                                
 src/config                                  |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                       
  content-detection.js                       |       0 |        0 |       0 |       0 | 1-242                                                                                                                                                                                                                 
 src/core                                    |   93.88 |    92.64 |   96.99 |   93.88 |                                                                                                                                                                                                                       
  command-processor.js                       |   92.65 |     87.6 |     100 |   92.65 | 107-108,185-189,217-221,238-243,249-250,259-260,266-267,275-276,282-283,369-377,382-383,732-737,770-771,790-795,828-833,841-846,885-890,929-930,950-955,989-994                                                       
  content-announcer.js                       |      87 |    94.36 |      85 |      87 | 99-106,201,203-204,333-335,540-542,569-583,590-598,607-651                                                                                                                                                            
  content-classifier.js                      |   98.92 |    97.15 |     100 |   98.92 | 332-337,361                                                                                                                                                                                                           
  content-coordinator.js                     |   96.18 |    91.66 |     100 |   96.18 | 510-531,705-706,735-738,740-741,756-758                                                                                                                                                                               
  content-state-manager.js                   |   94.41 |    97.18 |   94.73 |   94.41 | 67-74,238-254                                                                                                                                                                                                         
  livestream-state-machine.js                |   94.88 |    93.54 |     100 |   94.88 | 192-214                                                                                                                                                                                                               
 src/infrastructure                          |   95.06 |    93.56 |   95.23 |   95.06 |                                                                                                                                                                                                                       
  configuration.js                           |    72.8 |    77.52 |   66.66 |    72.8 | 103-104,108-109,113-114,123-124,138-139,143-144,154-155,162-163,166-167,172-173,178-179,183-184,194-195,199-201,206-207,211-213,217-218,223-224,228-230,238-253,260-266,273-283,290-298,305-312,357-363               
  debug-flag-manager.js                      |   99.47 |    93.24 |     100 |   99.47 | 294-295                                                                                                                                                                                                               
  dependency-container.js                    |    99.1 |    98.36 |     100 |    99.1 | 86-87                                                                                                                                                                                                                 
  event-bus.js                               |   99.26 |    98.43 |     100 |   99.26 | 239-240                                                                                                                                                                                                               
  metrics-manager.js                         |   98.93 |    95.65 |     100 |   98.93 | 154-155,287-288,467-468                                                                                                                                                                                               
  persistent-storage.js                      |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                       
  state-manager.js                           |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                       
 src/services/implementations                |   74.63 |    84.67 |   65.38 |   74.63 |                                                                                                                                                                                                                       
  discord-client-service.js                  |   92.96 |    80.76 |   85.71 |   92.96 | 20-22,62-64,247-249,255-262,268-269                                                                                                                                                                                   
  fetch-http-service.js                      |   62.13 |    57.14 |   36.84 |   62.13 | 36-37,43-44,50-51,57-58,81,83,85-88,99-100,120-121,123-124,128-129,134-135,144-164,170-203,209-210,216-217,223-224,230-239,245-254,260-265,274-278,293                                                                
  playwright-browser-service.js              |   61.42 |    56.52 |      20 |   61.42 | 23-24,28-30,41-46,58-59,63-64,68-69,80-81,100-104,112-116,125-143,153-157,166-170,178-182,191-195,203-207,215-219,227-231,239-245,253-257,265-269,276-280,287-291,299-308,316-320,327-331,345-352,363-370,388-393     
  youtube-api-service.js                     |   99.17 |    92.43 |     100 |   99.17 | 64-65,149-150                                                                                                                                                                                                         
  youtube-scraper-service.js                 |   68.76 |    89.33 |   95.23 |   68.76 | 204-216,269-270,280-281,314-315,381-383,413-415,448-450,479-480,530-541,546-548,554-651,654-656,746-919,962-963,995-999,1011-1015,1033-1038,1060-1061,1066-1084,1197-1206,1227-1238,1275-1304                         
 src/services/implementations/message-sender |    79.6 |    76.61 |   77.22 |    79.6 |                                                                                                                                                                                                                       
  discord-message-sender.js                  |   69.42 |    55.93 |   66.66 |   69.42 | 57-58,97-99,111-131,138-140,143-145,184-192,199-208,214-228,235-236,246-247,275-282,296-297,323-337,339-343,359-372,389-395,402-403,415,420,448-449,469-479,488-493,515-534,541-542                                   
  message-processor.js                       |   67.77 |    36.11 |   72.72 |   67.77 | 96-115,119-132,165-170,186-187,190-191,194-195,198-199,202-203,213-214,218-219,225-226,237-238,258-268,277-282,305-321,327-339,349-359                                                                                
  message-queue.js                           |     100 |       92 |     100 |     100 | 31,128                                                                                                                                                                                                                
  message.js                                 |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                       
  processing-scheduler.js                    |   61.04 |       50 |   33.33 |   61.04 | 39-40,50-51,59-60,76-77,93-107,116-133,142-154,163-164,183-192,200-208,228-231,239-240,246-249,256-264,271-280,287-298,304-312,335-343                                                                                
  rate-limiter.js                            |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                       
  retry-handler.js                           |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                       
 src/utilities                               |   98.93 |    90.97 |   98.03 |   98.93 |                                                                                                                                                                                                                       
  async-mutex.js                             |   97.22 |      100 |   83.33 |   97.22 | 70-71                                                                                                                                                                                                                 
  browser-config.js                          |     100 |    95.65 |     100 |     100 | 90                                                                                                                                                                                                                    
  enhanced-logger.js                         |   99.48 |    86.76 |     100 |   99.48 | 263-264                                                                                                                                                                                                               
  time-parser.js                             |   96.09 |    88.46 |     100 |   96.09 | 51-52,90,115-116                                                                                                                                                                                                      
  utc-time.js                                |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                       
 src/utils                                   |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                       
  delay.js                                   |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                       
---------------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
